{"ast":null,"code":"class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(res.status);\n    }\n  }\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      headers: {\n        'content-type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }).then(res => this._checkResponse(res));\n  }\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      headers: {\n        'content-type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n  addNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\n      },\n      body: JSON.stringify(data)\n    }).then(res => this._checkResponse(res));\n  }\n  deleteCard(cardId) {\n    return fetch(`${this._url}/cards/${cardId}`, {\n      method: 'DELETE',\n      headers: {\n        'content-type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n  getCardLike(cardId) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: 'PUT',\n      headers: {\n        'content-type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n  deleteCardLike(cardId) {\n    return fetch(`${this._url}/cards/${cardId}/likes`, {\n      method: 'DELETE',\n      headers: {\n        'content-type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n  changeAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        'content-type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\n      },\n      body: JSON.stringify(data)\n    }).then(res => {\n      return this._checkResponse(res);\n    });\n  }\n  changeUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'content-type': 'application/json',\n        authorization: `Bearer ${localStorage.getItem('jwt')}`\n      },\n      body: JSON.stringify(data)\n    }).then(res => this._checkResponse(res));\n  }\n}\nconst apiData = new Api({\n  // url: 'http://localhost:3000',\n  url: 'http://api.valts.mesto.nomoreparties.co',\n  headers: {\n    'content-type': 'application/json',\n    authorization: `Bearer ${localStorage.getItem('jwt')}`\n  }\n});\nexport default apiData;","map":{"version":3,"names":["Api","constructor","config","_url","url","_headers","headers","_checkResponse","res","ok","json","Promise","reject","status","getUserInfo","fetch","authorization","localStorage","getItem","then","getInitialCards","addNewCard","data","method","body","JSON","stringify","deleteCard","cardId","getCardLike","deleteCardLike","changeAvatar","changeUserInfo","apiData"],"sources":["C:/Users/AdminPC/dev/react-mesto-api-full-gha/frontend/src/utils/Api.js"],"sourcesContent":["class Api {\r\n    constructor(config) {\r\n        this._url = config.url;\r\n        this._headers = config.headers;\r\n    }\r\n    \r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          return Promise.reject(res.status);\r\n        }\r\n    }\r\n\r\n    getUserInfo() {\r\n      return fetch(`${this._url}/users/me`, {\r\n        headers: {\r\n          'content-type': 'application/json',\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n        },\r\n      }).then((res) => this._checkResponse(res));\r\n    }\r\n\r\n    getInitialCards() {\r\n      return fetch(`${this._url}/cards`, {\r\n        headers: {\r\n          'content-type': 'application/json',\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n        },\r\n      }).then((res) => {\r\n        return this._checkResponse(res);\r\n      });\r\n    }\r\n\r\n    addNewCard(data) {\r\n      return fetch(`${this._url}/cards`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'content-type': 'application/json',\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n        },\r\n        body: JSON.stringify(data),\r\n      }).then((res) => \r\n        this._checkResponse(res)\r\n      );\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n      return fetch(`${this._url}/cards/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'content-type': 'application/json',\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n        },\r\n      }).then((res) => {\r\n        return this._checkResponse(res);\r\n      });\r\n    }\r\n\r\n    getCardLike(cardId) {\r\n      return fetch(`${this._url}/cards/${cardId}/likes`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'content-type': 'application/json',\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n        },\r\n      }).then((res) => {\r\n        return this._checkResponse(res);\r\n      });\r\n    }\r\n\r\n    deleteCardLike(cardId) {\r\n      return fetch(`${this._url}/cards/${cardId}/likes`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'content-type': 'application/json',\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n        },\r\n      }).then((res) => {\r\n        return this._checkResponse(res);\r\n      });\r\n    }\r\n\r\n    changeAvatar(data) {\r\n      return fetch(`${this._url}/users/me/avatar`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'content-type': 'application/json',\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n        },\r\n        body: JSON.stringify(data),\r\n      }).then((res) => {\r\n        return this._checkResponse(res);\r\n      });\r\n    }\r\n\r\n    changeUserInfo(data) {\r\n      return fetch(`${this._url}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n          'content-type': 'application/json',\r\n          authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n        },\r\n        body: JSON.stringify(data),\r\n      }).then((res) => this._checkResponse(res)\r\n      );\r\n    }\r\n}\r\n\r\nconst apiData = new Api ({\r\n // url: 'http://localhost:3000',\r\n  url: 'http://api.valts.mesto.nomoreparties.co',\r\n  headers: {\r\n    'content-type': 'application/json',\r\n    authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n  },\r\n});\r\n\r\nexport default apiData;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}